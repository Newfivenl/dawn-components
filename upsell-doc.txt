document

snippet file name: nf-cart-drawer-upsell-list-horizontal


Need to wrap to <div class="drawer__body"></div> to have the scrolling content
1. drawer__header
2. cart-drawer-items
3. {% render 'nf-cart-drawer-upsell-list-horizontal' %}

cart-drawer.liquid
line item loop need to put id 
data-item="{{ item.product.id }}"

add this code to the very top of cart-drawer.liquid 
{% liquid
  assign first_product_id = ''
  assign cart_items = ''

  for line_item in cart.items
    for tag in line_item.product.tags
      if tag contains 'upsell:'
        assign product_handle = tag | split: ':' | last        
        assign is_in_cart = false

        for line_item in cart.items
          if line_item.product.id == all_products[product_handle].id
            assign is_in_cart = true
          endif
        endfor
        
        unless is_in_cart
          assign cart_upsells_product_handles = cart_upsells_product_handles | append: product_handle | append: ',' 
        endunless
      endif
    endfor
          
    assign cart_items = cart_items | append: line_item.product.id | append: ','
  endfor
%}

en.default.schema.json
replace the cart_drawer in en.default.schema.json
"cart_drawer": {
          "header": "CART DRAWER",
          "collection": {
            "label": "Collection",
            "info": "Visible when cart drawer is empty."
          },
          "cart_goal_header": {
            "label": "CART GOAL"
          },
          "cart_goal_value":{
            "label": "Select 0 to disable this feature"
          },
          "cart_goal_description_before": {
            "label": "Description - Goal not completed"
          },
          "cart_goal_color_before": {
            "label": "BG color - Goal not completed"
          },
          "cart_goal_description_after": {
            "label": "Description - Goal completed"
          },
          "cart_goal_color_after": {
            "label": "BG color - Goal completed"
          },
          "cart_upsell_header": {
            "label": "CART UPSELL"
          },
          "text": {
            "label": "Upsell header text"
          }
        }


settings_schema.json
need to add this to settings_schema.json
{
        "type": "header",
        "content": "t:settings_schema.cart.settings.cart_drawer.cart_goal_header.label",
        "info": "Works only if cart type is drawer."
      },
      {
        "type": "range",
        "id": "cart_goal_value",
        "label": "Cart Goal - NL",
        "info": "t:settings_schema.cart.settings.cart_drawer.cart_goal_value.label",
        "min": 0,
        "max": 500,
        "default": 50,
        "step": 5
      },
      {
        "type": "range",
        "id": "cart_goal_value_en",
        "label": "Cart Goal - EN",
        "info": "t:settings_schema.cart.settings.cart_drawer.cart_goal_value.label",
        "min": 0,
        "max": 500,
        "default": 100,
        "step": 5
      },
      {
        "type": "richtext",
        "id": "cart_goal_description_before",
        "label": "t:settings_schema.cart.settings.cart_drawer.cart_goal_description_before.label",
        "default": "<p><strong>[amount]</strong> away from FREE Shipping!</p>"
      },
      {
        "type": "color",
        "id": "cart_goal_color_before",
        "label": "t:settings_schema.cart.settings.cart_drawer.cart_goal_color_before.label",
        "default": "#fd7e14"
      },
      {
        "type": "richtext",
        "id": "cart_goal_description_after",
        "label": "t:settings_schema.cart.settings.cart_drawer.cart_goal_description_after.label",
        "default": "<p>Congrats! You're eligible for <strong>FREE Shipping.</strong></p>"
      },
      {
        "type": "color",
        "id": "cart_goal_color_after",
        "label": "t:settings_schema.cart.settings.cart_drawer.cart_goal_color_after.label",
        "default": "#158754"
      },

      {
        "type": "header",
        "content": "t:settings_schema.cart.settings.cart_drawer.cart_upsell_header.label",
        "info": "Works only if cart type is drawer."
      },
      {
        "type": "text",
        "id": "cart_upsells_title",
        "label": "t:settings_schema.cart.settings.cart_drawer.text.label"
      }


Notes
 - Remove nf classes

Functionalities
 - Cart goal functionality
 - Upsell list items